#!/usr/bin/env markdown

# processors 分层需求文档（Draft）

## 背景与痛点
- 当前 processors 任务混合了数据处理与特征计算，缺少“高质量、可信赖、易用”的处理层。
- 期望有独立 schema（clean）存放已清洗、标准化的数据，作为研究和特征层的统一输入。

## 目标
- 明确处理层 vs 特征层的分层规范。
- 对现有任务进行分类梳理，标注拆分方向。
- 给出特征入库白名单与判定标准。
- 允许破坏性变更（当前未正式使用）。

## 范围
- 处理层：拉取、校验、对齐、单位/复权/币种一致化、血缘记录、幂等入库（到 clean）。
- 特征层：在处理层数据上计算滚动/分位/zscore/去极值/归一化/插值等，不与处理层耦合。
- 任务层：编排 fetch → clean → feature（可选）→ save，尽量不内嵌特征实现。

## 非目标
- 不讨论策略级 alpha 评估；不落地具体重构实现。

## 成功标准
- 清晰的分层边界与接口契约。
- 现有任务有明确分类与后续拆分指引。
- 特征入库有白名单与判定标准。

