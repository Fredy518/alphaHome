refactor: 财务任务架构重构与批处理工具标准化

本次提交实现了财务数据获取任务的全面架构重构，消除了过度工程，
标准化了批处理工具，并优化了数据库组件，显著提升了代码可维护性和系统一致性。

## 🏗️ 财务任务架构重构

### 核心问题解决
- **过度工程治理**: 识别并消除了财务任务中的复杂自定义逻辑
- **架构一致性**: 统一财务任务使用基类的标准智能增量架构
- **代码简化**: 大幅减少重复代码和不必要的复杂性

### 重点重构任务

#### tushare_fina_indicator.py 重构
- **代码减少**: 534行 → 294行 (减少45%)
- **删除复杂 pre_execute**: 移除176行的复杂数据库操作逻辑
- **简化 process_data**: 从82行复杂逻辑简化为22行核心功能
- **标准化配置**: 简化 transformations 配置，使用基类标准机制
- **迁移脚本**: 创建专门的数据迁移脚本处理历史数据问题

#### tushare_fina_disclosure.py 重构  
- **代码减少**: 310行 → 229行 (减少26%)
- **删除复杂日期逻辑**: 移除142行的 _determine_execution_dates 方法
- **标准智能增量**: 实现57行的简洁 _determine_date_range 方法
- **季度对齐优化**: 保持季度特性的同时使用标准架构
- **时间控制优化**: 将21:00时间控制逻辑移到合适位置

### 其他财务任务标准化
- **批次生成统一**: 6个财务任务使用标准化的批次生成工具
- **重复代码消除**: 删除200+行重复的日期范围处理代码
- **导入路径修复**: 统一使用新的批处理工具导入路径

## 🔧 批处理工具标准化

### 新增核心工具
- **batch_utils.py**: 645行的全新批处理工具集合
  - `normalize_date_range()`: 标准化日期范围处理
  - `generate_financial_data_batches()`: 财务数据专用批次生成
  - `generate_quarter_end_batches()`: 季度批次生成工具
  - `generate_natural_day_batches()`: 自然日批次生成工具

### 工具迁移与整合
- **位置迁移**: `tools/batch_utils.py` → `sources/tushare/batch_utils.py`
- **功能增强**: 新增财务数据特定的批次生成逻辑
- **标准化接口**: 统一的参数传递和错误处理模式

## 📦 导入路径标准化

### 大规模导入修复
- **修复文件数**: 35+ 个文件，50+ 处导入语句
- **batch_utils 路径**: 修复所有任务文件的批处理工具导入
- **相对导入统一**: 将绝对导入统一为相对导入
- **task_register 导入**: 标准化任务注册装饰器导入路径

### 主要修复模块
- **财务任务**: 6个财务任务文件的导入路径修复
- **基金任务**: 6个基金任务文件的导入标准化  
- **期货任务**: 3个期货任务文件的导入优化
- **其他模块**: 股票、指数、宏观、期权等任务的导入修复

## 🗃️ 数据库组件优化

### 核心组件增强
- **database_operations_mixin.py**: 243行的数据库操作优化
- **db_manager_core.py**: 117行的核心管理逻辑改进
- **性能优化**: 数据库连接池和查询性能提升
- **错误处理**: 更健壮的异常处理和日志记录

### 新增迁移工具
- **迁移脚本**: `fina_indicator_001_fix_primary_key.py`
- **迁移文档**: 详细的迁移说明和使用指南
- **数据安全**: 使用临时表确保迁移过程的数据安全

## 🎯 技术改进亮点

### 架构设计优化
- **职责分离**: 数据迁移逻辑与任务执行逻辑分离
- **标准化模式**: 所有财务任务遵循统一的架构模式
- **工具复用**: 通过标准化工具减少代码重复

### 代码质量提升
- **复杂度降低**: 消除不必要的条件判断和推断逻辑
- **可读性增强**: 代码逻辑更清晰，注释更完善
- **维护性改善**: 模块化设计便于独立测试和维护

### 性能优化
- **批次生成效率**: 标准化的批次生成工具提升性能
- **数据库操作**: 优化的数据库组件减少查询开销
- **内存使用**: 简化的数据处理逻辑降低内存占用

## 📋 影响范围

- **财务任务模块**: 全面重构，架构标准化
- **批处理系统**: 工具集中化，功能增强
- **数据库组件**: 核心优化，性能提升
- **导入系统**: 路径标准化，一致性改善
- **迁移工具**: 新增专门的数据迁移支持

## 🔄 破坏性变更

### 导入路径变更
- **batch_utils 位置**: 从 `tools/` 移动到 `sources/tushare/`
- **影响**: 需要更新所有相关的导入语句 (已在本次提交中修复)

### 方法签名变更
- **财务任务**: 部分任务的内部方法实现发生变化
- **兼容性**: 对外接口保持不变，内部重构不影响使用

本次重构为AlphaHome财务数据处理建立了更加稳固和标准化的技术基础，
消除了技术债务，提升了系统的整体质量和可维护性。

Closes: 财务任务过度工程问题、批处理工具分散问题、导入路径不一致问题
Breaking Change: batch_utils 模块位置变更 (已修复所有引用)
Co-authored-by: Claude-3.5-Sonnet
